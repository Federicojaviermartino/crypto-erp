{"version":3,"sources":["../../../src/modules/users/users.controller.ts"],"sourcesContent":["import { Controller, Get, Patch, Body, UseGuards } from '@nestjs/common';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiBearerAuth,\n} from '@nestjs/swagger';\nimport { UsersService } from './users.service.js';\nimport { UpdateUserDto } from './dto/index.js';\nimport { JwtAuthGuard } from '../../common/guards/jwt-auth.guard.js';\nimport { CurrentUser, JwtPayload } from '../../common/index.js';\n\n@ApiTags('users')\n@ApiBearerAuth('access-token')\n@UseGuards(JwtAuthGuard)\n@Controller('users')\nexport class UsersController {\n  constructor(private usersService: UsersService) {}\n\n  @Get('me')\n  @ApiOperation({ summary: 'Get current user profile' })\n  @ApiResponse({ status: 200, description: 'User profile' })\n  async getMe(@CurrentUser() user: JwtPayload) {\n    return this.usersService.findById(user.sub);\n  }\n\n  @Patch('me')\n  @ApiOperation({ summary: 'Update current user profile' })\n  @ApiResponse({ status: 200, description: 'Updated user profile' })\n  async updateMe(@CurrentUser() user: JwtPayload, @Body() dto: UpdateUserDto) {\n    return this.usersService.update(user.sub, dto);\n  }\n}\n"],"names":["UsersController","getMe","user","usersService","findById","sub","updateMe","dto","update","summary","status","description"],"mappings":";;;;+BAgBaA;;;eAAAA;;;wBAhB2C;yBAMjD;8BACsB;uBACC;8BACD;wBACW;;;;;;;;;;;;;;;AAMjC,IAAA,AAAMA,kBAAN,MAAMA;IAGX,MAGMC,MAAM,AAAeC,IAAgB,EAAE;QAC3C,OAAO,IAAI,CAACC,YAAY,CAACC,QAAQ,CAACF,KAAKG,GAAG;IAC5C;IAEA,MAGMC,SAAS,AAAeJ,IAAgB,EAAE,AAAQK,GAAkB,EAAE;QAC1E,OAAO,IAAI,CAACJ,YAAY,CAACK,MAAM,CAACN,KAAKG,GAAG,EAAEE;IAC5C;IAdA,YAAY,AAAQJ,YAA0B,CAAE;aAA5BA,eAAAA;IAA6B;AAenD;;;;QAZkBM,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa"}