{"version":3,"sources":["../../../src/common/interceptors/transform.interceptor.ts"],"sourcesContent":["import {\n  Injectable,\n  NestInterceptor,\n  ExecutionContext,\n  CallHandler,\n} from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport interface ApiResponse<T> {\n  success: boolean;\n  data: T;\n  timestamp: string;\n}\n\n/**\n * Transform interceptor that wraps responses in a consistent format.\n */\n@Injectable()\nexport class TransformInterceptor<T>\n  implements NestInterceptor<T, ApiResponse<T>>\n{\n  intercept(\n    _context: ExecutionContext,\n    next: CallHandler,\n  ): Observable<ApiResponse<T>> {\n    return next.handle().pipe(\n      map((data: T) => ({\n        success: true,\n        data,\n        timestamp: new Date().toISOString(),\n      })),\n    );\n  }\n}\n"],"names":["TransformInterceptor","intercept","_context","next","handle","pipe","map","data","success","timestamp","Date","toISOString"],"mappings":";;;;+BAmBaA;;;eAAAA;;;wBAdN;2BAEa;;;;;;;AAYb,IAAA,AAAMA,uBAAN,MAAMA;IAGXC,UACEC,QAA0B,EAC1BC,IAAiB,EACW;QAC5B,OAAOA,KAAKC,MAAM,GAAGC,IAAI,CACvBC,IAAAA,cAAG,EAAC,CAACC,OAAa,CAAA;gBAChBC,SAAS;gBACTD;gBACAE,WAAW,IAAIC,OAAOC,WAAW;YACnC,CAAA;IAEJ;AACF"}