{"version":3,"sources":["../../../../src/modules/crypto/dto/batch-categorize.dto.ts"],"sourcesContent":["import { IsArray, IsOptional, IsString, IsDateString } from 'class-validator';\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\n\nexport class BatchCategorizeDto {\n  @ApiPropertyOptional({\n    description: 'Array of specific transaction IDs to categorize',\n    type: [String],\n    example: ['tx-123', 'tx-456', 'tx-789'],\n  })\n  @IsOptional()\n  @IsArray()\n  @IsString({ each: true })\n  transactionIds?: string[];\n\n  @ApiPropertyOptional({\n    description: 'Wallet ID to categorize all uncategorized transactions',\n    example: 'wallet-123',\n  })\n  @IsOptional()\n  @IsString()\n  walletId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Start date for date range filter (ISO 8601)',\n    example: '2024-01-01',\n  })\n  @IsOptional()\n  @IsDateString()\n  startDate?: string;\n\n  @ApiPropertyOptional({\n    description: 'End date for date range filter (ISO 8601)',\n    example: '2024-12-31',\n  })\n  @IsOptional()\n  @IsDateString()\n  endDate?: string;\n}\n\nexport class BatchCategorizeResponseDto {\n  @ApiProperty({\n    description: 'BullMQ job ID for tracking progress',\n    example: 'batch-cat-1234567890',\n  })\n  jobId: string;\n\n  @ApiProperty({\n    description: 'Number of transactions queued for categorization',\n    example: 42,\n  })\n  transactionCount: number;\n\n  @ApiProperty({\n    description: 'Estimated time to completion in seconds',\n    example: 120,\n  })\n  estimatedTime: number;\n}\n\nexport class BatchJobStatusResponseDto {\n  @ApiProperty({\n    description: 'Job ID',\n    example: 'batch-cat-1234567890',\n  })\n  jobId: string;\n\n  @ApiProperty({\n    description: 'Current job state',\n    enum: ['waiting', 'active', 'completed', 'failed', 'delayed'],\n    example: 'active',\n  })\n  state: string;\n\n  @ApiProperty({\n    description: 'Progress percentage (0-100)',\n    example: 67,\n  })\n  progress: number;\n\n  @ApiPropertyOptional({\n    description: 'Result data (available when completed)',\n    type: 'object',\n    example: {\n      success: true,\n      processedCount: 42,\n      successCount: 40,\n      failedIds: ['tx-123', 'tx-456'],\n    },\n  })\n  result?: {\n    success: boolean;\n    processedCount: number;\n    successCount: number;\n    failedIds: string[];\n    error?: string;\n  };\n\n  @ApiPropertyOptional({\n    description: 'Error message (if failed)',\n    example: 'No AI provider configured',\n  })\n  error?: string;\n}\n"],"names":["BatchCategorizeDto","BatchCategorizeResponseDto","BatchJobStatusResponseDto","description","type","String","example","each","enum","success","processedCount","successCount","failedIds"],"mappings":";;;;;;;;;;;QAGaA;eAAAA;;QAoCAC;eAAAA;;QAoBAC;eAAAA;;;gCA3D+C;yBACX;;;;;;;;;;AAE1C,IAAA,AAAMF,qBAAN,MAAMA;AAkCb;;;QAhCIG,aAAa;QACbC,MAAM;YAACC;SAAO;QACdC,SAAS;YAAC;YAAU;YAAU;SAAS;;;;;QAI7BC,MAAM;;;;;;QAIhBJ,aAAa;QACbG,SAAS;;;;;;;;QAOTH,aAAa;QACbG,SAAS;;;;;;;;QAOTH,aAAa;QACbG,SAAS;;;;;;AAON,IAAA,AAAML,6BAAN,MAAMA;AAkBb;;;QAhBIE,aAAa;QACbG,SAAS;;;;;;QAKTH,aAAa;QACbG,SAAS;;;;;;QAKTH,aAAa;QACbG,SAAS;;;;AAKN,IAAA,AAAMJ,4BAAN,MAAMA;AA2Cb;;;QAzCIC,aAAa;QACbG,SAAS;;;;;;QAKTH,aAAa;QACbK,MAAM;YAAC;YAAW;YAAU;YAAa;YAAU;SAAU;QAC7DF,SAAS;;;;;;QAKTH,aAAa;QACbG,SAAS;;;;;;QAKTH,aAAa;QACbC,MAAM;QACNE,SAAS;YACPG,SAAS;YACTC,gBAAgB;YAChBC,cAAc;YACdC,WAAW;gBAAC;gBAAU;aAAS;QACjC;;;;;;QAWAT,aAAa;QACbG,SAAS"}