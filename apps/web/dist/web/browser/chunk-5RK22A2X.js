import{a as y}from"./chunk-TRXNC6YO.js";import{c as E,d as N}from"./chunk-R5763NNK.js";import{a as M,b as s,c as F,d as I,f as R,h as O,k as T,q,s as k}from"./chunk-OE3B74VB.js";import"./chunk-FXBJWTCM.js";import{$a as x,Da as d,Fa as v,Gb as P,Ha as p,Ja as m,Oa as n,Pa as i,Qa as u,Sa as b,Ta as w,U as _,Za as a,fb as S,ra as r,sa as f,xa as g}from"./chunk-2V2B4KT2.js";import{c as C}from"./chunk-35PI25VP.js";function A(e,c){if(e&1&&(n(0,"div",3),a(1),i()),e&2){let l=w();r(),x(" ",l.error()," ")}}function D(e,c){e&1&&(n(0,"div",9),a(1,"Nombre es requerido"),i())}function G(e,c){e&1&&(n(0,"div",9),a(1,"Apellido es requerido"),i())}function j(e,c){e&1&&(n(0,"div",9),a(1,"Email v\xE1lido es requerido"),i())}function L(e,c){e&1&&(n(0,"div",9),a(1,"M\xEDnimo 8 caracteres"),i())}function V(e,c){e&1&&(n(0,"div",9),a(1,"Las contrase\xF1as no coinciden"),i())}function B(e,c){e&1&&(u(0,"span",21),a(1," Creando cuenta... "))}function J(e,c){e&1&&a(0," Crear cuenta ")}var $=(()=>{class e{fb;authService;router;form;loading=g(!1);error=g(null);constructor(l,o,t){this.fb=l,this.authService=o,this.router=t,this.form=this.fb.group({firstName:["",[s.required]],lastName:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(8)]],confirmPassword:["",[s.required]]})}isFieldInvalid(l){let o=this.form.get(l);return!!(o&&o.invalid&&o.touched)}passwordMismatch(){let l=this.form.get("password"),o=this.form.get("confirmPassword");return!!(o?.touched&&l?.value!==o?.value)}onSubmit(){if(this.form.invalid||this.passwordMismatch()){this.form.markAllAsTouched();return}this.loading.set(!0),this.error.set(null);let t=this.form.value,{confirmPassword:l}=t,o=C(t,["confirmPassword"]);this.authService.register(o).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:h=>{this.loading.set(!1),this.error.set(h.error?.message||"Error al crear la cuenta")}})}static \u0275fac=function(o){return new(o||e)(f(q),f(y),f(E))};static \u0275cmp=_({type:e,selectors:[["app-register"]],standalone:!0,features:[S],decls:43,vars:19,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"alert","alert-danger"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["for","firstName",1,"form-label"],["type","text","id","firstName","formControlName","firstName","placeholder","Juan",1,"form-input"],[1,"form-error"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName","placeholder","Garc\xEDa",1,"form-input"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","tu@email.com",1,"form-input"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-input"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-input"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"auth-footer"],["routerLink","/auth/login"],[1,"spinner"]],template:function(o,t){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),a(4,"Crypto ERP"),i(),n(5,"p"),a(6,"Crea tu cuenta"),i()(),d(7,A,2,1,"div",3),n(8,"form",4),b("ngSubmit",function(){return t.onSubmit()}),n(9,"div",5)(10,"div",6)(11,"label",7),a(12,"Nombre"),i(),u(13,"input",8),d(14,D,2,0,"div",9),i(),n(15,"div",6)(16,"label",10),a(17,"Apellido"),i(),u(18,"input",11),d(19,G,2,0,"div",9),i()(),n(20,"div",6)(21,"label",12),a(22,"Email"),i(),u(23,"input",13),d(24,j,2,0,"div",9),i(),n(25,"div",6)(26,"label",14),a(27,"Contrase\xF1a"),i(),u(28,"input",15),d(29,L,2,0,"div",9),i(),n(30,"div",6)(31,"label",16),a(32,"Confirmar Contrase\xF1a"),i(),u(33,"input",17),d(34,V,2,0,"div",9),i(),n(35,"button",18),d(36,B,2,0)(37,J,1,0),i()(),n(38,"div",19)(39,"p"),a(40,"\xBFYa tienes una cuenta? "),n(41,"a",20),a(42,"Inicia sesi\xF3n"),i()()()()()),o&2&&(r(7),m(7,t.error()?7:-1),r(),v("formGroup",t.form),r(5),p("is-invalid",t.isFieldInvalid("firstName")),r(),m(14,t.isFieldInvalid("firstName")?14:-1),r(4),p("is-invalid",t.isFieldInvalid("lastName")),r(),m(19,t.isFieldInvalid("lastName")?19:-1),r(4),p("is-invalid",t.isFieldInvalid("email")),r(),m(24,t.isFieldInvalid("email")?24:-1),r(4),p("is-invalid",t.isFieldInvalid("password")),r(),m(29,t.isFieldInvalid("password")?29:-1),r(4),p("is-invalid",t.isFieldInvalid("confirmPassword")||t.passwordMismatch()),r(),m(34,t.passwordMismatch()?34:-1),r(),v("disabled",t.loading()),r(),m(36,t.loading()?36:37))},dependencies:[P,k,R,M,F,I,O,T,N],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:var(--spacing-lg);background:linear-gradient(135deg,var(--gray-100) 0%,var(--gray-200) 100%)}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:450px;background:var(--white);border-radius:var(--radius-xl);box-shadow:var(--shadow-lg);padding:var(--spacing-2xl)}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl)}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--primary);margin-bottom:var(--spacing-sm)}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-500)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-md)}.alert[_ngcontent-%COMP%]{padding:var(--spacing-md);border-radius:var(--radius-md);margin-bottom:var(--spacing-md)}.alert-danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b;border:1px solid #fecaca}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-lg);padding-top:var(--spacing-lg);border-top:1px solid var(--gray-200)}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-500);margin:0}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return e})();export{$ as RegisterComponent};
