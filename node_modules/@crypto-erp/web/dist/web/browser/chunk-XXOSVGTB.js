import{a as N,c as O,e as B,l as F,m as k,n as W,r as Y}from"./chunk-OE3B74VB.js";import{a as V}from"./chunk-JU2KEDBD.js";import"./chunk-FXBJWTCM.js";import{$a as C,Da as b,Gb as w,Ia as u,Ja as y,Ma as M,Na as A,Oa as e,Pa as n,Qa as I,Ra as L,Sa as m,Ta as p,U as x,Za as i,_a as _,aa as S,ba as T,bb as f,cb as h,db as E,fb as P,ra as r,sa as v,xa as g}from"./chunk-2V2B4KT2.js";import"./chunk-35PI25VP.js";var D=(o,c)=>c.id;function G(o,c){o&1&&(e(0,"div",16),I(1,"span",17),n())}function Q(o,c){if(o&1){let t=L();e(0,"tr")(1,"td")(2,"strong"),i(3),n()(),e(4,"td"),i(5),n(),e(6,"td")(7,"span",19),i(8),n()(),e(9,"td")(10,"span",19),i(11),n()(),e(12,"td")(13,"button",20),m("click",function(){let l=S(t).$implicit,d=p(2);return T(d.editAccount(l))}),i(14," Editar "),n()()()}if(o&2){let t=c.$implicit,a=p(2);r(3),_(t.code),r(2),_(t.name),r(2),u(a.getTypeBadgeClass(t.type)),r(),C(" ",a.getTypeLabel(t.type)," "),r(2),u(t.isActive?"badge-success":"badge-secondary"),r(),C(" ",t.isActive?"Activa":"Inactiva"," ")}}function U(o,c){o&1&&(e(0,"tr")(1,"td",21),i(2," No se encontraron cuentas "),n()())}function X(o,c){if(o&1&&(e(0,"table",18)(1,"thead")(2,"tr")(3,"th"),i(4,"C\xF3digo"),n(),e(5,"th"),i(6,"Nombre"),n(),e(7,"th"),i(8,"Tipo"),n(),e(9,"th"),i(10,"Estado"),n(),e(11,"th"),i(12,"Acciones"),n()()(),e(13,"tbody"),M(14,Q,15,8,"tr",null,D,!1,U,3,0,"tr"),n()()),o&2){let t=p();r(14),A(t.accounts())}}var Z=(()=>{class o{api;accounts=g([]);loading=g(!0);searchTerm="";filterType="";showCreateModal=!1;constructor(t){this.api=t}ngOnInit(){this.loadAccounts()}loadAccounts(){this.loading.set(!0);let t={};this.searchTerm&&(t.search=this.searchTerm),this.filterType&&(t.type=this.filterType),this.api.get("/accounts",t).subscribe({next:a=>{this.accounts.set(a),this.loading.set(!1)},error:()=>{this.loading.set(!1)}})}onSearch(){setTimeout(()=>this.loadAccounts(),300)}editAccount(t){console.log("Edit account:",t)}getTypeBadgeClass(t){return{ASSET:"badge-info",LIABILITY:"badge-warning",EQUITY:"badge-success",INCOME:"badge-success",EXPENSE:"badge-danger"}[t]||"badge-secondary"}getTypeLabel(t){return{ASSET:"Activo",LIABILITY:"Pasivo",EQUITY:"Patrimonio",INCOME:"Ingreso",EXPENSE:"Gasto"}[t]||t}static \u0275fac=function(a){return new(a||o)(v(V))};static \u0275cmp=x({type:o,selectors:[["app-accounts-list"]],standalone:!0,features:[P],decls:29,vars:3,consts:[[1,"page"],[1,"page-header"],[1,"text-muted"],[1,"btn","btn-primary",3,"click"],[1,"filters","card"],[1,"card-body","d-flex","gap-md"],["type","text","placeholder","Buscar por c\xF3digo o nombre...",1,"form-input",2,"max-width","300px",3,"ngModelChange","ngModel"],[1,"form-select",2,"max-width","200px",3,"ngModelChange","ngModel"],["value",""],["value","ASSET"],["value","LIABILITY"],["value","EQUITY"],["value","INCOME"],["value","EXPENSE"],[1,"card"],[1,"card-body",2,"padding","0"],[1,"text-center","p-lg"],[1,"spinner"],[1,"table"],[1,"badge"],[1,"btn","btn-sm","btn-secondary",3,"click"],["colspan","5",1,"text-center","text-muted","p-lg"]],template:function(a,l){a&1&&(e(0,"div",0)(1,"header",1)(2,"div")(3,"h1"),i(4,"Plan de Cuentas"),n(),e(5,"p",2),i(6,"Gestiona el plan general contable"),n()(),e(7,"button",3),m("click",function(){return l.showCreateModal=!0}),i(8," + Nueva Cuenta "),n()(),e(9,"div",4)(10,"div",5)(11,"input",6),E("ngModelChange",function(s){return h(l.searchTerm,s)||(l.searchTerm=s),s}),m("ngModelChange",function(){return l.onSearch()}),n(),e(12,"select",7),E("ngModelChange",function(s){return h(l.filterType,s)||(l.filterType=s),s}),m("ngModelChange",function(){return l.loadAccounts()}),e(13,"option",8),i(14,"Todos los tipos"),n(),e(15,"option",9),i(16,"Activo"),n(),e(17,"option",10),i(18,"Pasivo"),n(),e(19,"option",11),i(20,"Patrimonio"),n(),e(21,"option",12),i(22,"Ingreso"),n(),e(23,"option",13),i(24,"Gasto"),n()()()(),e(25,"div",14)(26,"div",15),b(27,G,2,0,"div",16)(28,X,17,1),n()()()),a&2&&(r(11),f("ngModel",l.searchTerm),r(),f("ngModel",l.filterType),r(15),y(27,l.loading()?27:28))},dependencies:[w,Y,k,W,N,F,O,B],styles:[".page[_ngcontent-%COMP%]{padding:var(--spacing-xl)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--spacing-lg)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xs)}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.filters[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}"]})}return o})();export{Z as AccountsListComponent};
