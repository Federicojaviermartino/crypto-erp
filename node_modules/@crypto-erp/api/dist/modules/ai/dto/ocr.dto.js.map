{"version":3,"sources":["../../../../src/modules/ai/dto/ocr.dto.ts"],"sourcesContent":["import { ApiProperty } from '@nestjs/swagger';\n\nexport class OcrResponseLineItemDto {\n  @ApiProperty({ description: 'Line item description' })\n  description: string;\n\n  @ApiProperty({ description: 'Quantity', nullable: true })\n  quantity: number | null;\n\n  @ApiProperty({ description: 'Unit price', nullable: true })\n  unitPrice: number | null;\n\n  @ApiProperty({ description: 'Line amount', nullable: true })\n  amount: number | null;\n}\n\nexport class OcrExtractedDataDto {\n  @ApiProperty({ description: 'Issuer name', nullable: true })\n  issuerName: string | null;\n\n  @ApiProperty({ description: 'Issuer tax ID (NIF/CIF)', nullable: true })\n  issuerTaxId: string | null;\n\n  @ApiProperty({ description: 'Issuer address', nullable: true })\n  issuerAddress: string | null;\n\n  @ApiProperty({ description: 'Recipient name', nullable: true })\n  recipientName: string | null;\n\n  @ApiProperty({ description: 'Recipient tax ID', nullable: true })\n  recipientTaxId: string | null;\n\n  @ApiProperty({ description: 'Recipient address', nullable: true })\n  recipientAddress: string | null;\n\n  @ApiProperty({ description: 'Invoice number', nullable: true })\n  invoiceNumber: string | null;\n\n  @ApiProperty({ description: 'Invoice date (YYYY-MM-DD)', nullable: true })\n  invoiceDate: string | null;\n\n  @ApiProperty({ description: 'Due date (YYYY-MM-DD)', nullable: true })\n  dueDate: string | null;\n\n  @ApiProperty({ description: 'Subtotal amount', nullable: true })\n  subtotal: number | null;\n\n  @ApiProperty({ description: 'Tax rate percentage', nullable: true })\n  taxRate: number | null;\n\n  @ApiProperty({ description: 'Tax amount', nullable: true })\n  taxAmount: number | null;\n\n  @ApiProperty({ description: 'Total amount', nullable: true })\n  total: number | null;\n\n  @ApiProperty({ description: 'Currency code', default: 'EUR' })\n  currency: string;\n\n  @ApiProperty({ type: [OcrResponseLineItemDto], description: 'Invoice line items' })\n  lineItems: OcrResponseLineItemDto[];\n\n  @ApiProperty({ description: 'Extraction confidence (0-1)' })\n  confidence: number;\n\n  @ApiProperty({ description: 'OCR provider used', enum: ['google-vision', 'paddleocr', 'ai-extraction'] })\n  provider: 'google-vision' | 'paddleocr' | 'ai-extraction';\n\n  @ApiProperty({ description: 'Processing time in milliseconds' })\n  processingTimeMs: number;\n}\n\nexport class OcrResponseDto {\n  @ApiProperty({ description: 'Whether extraction was successful' })\n  success: boolean;\n\n  @ApiProperty({ type: OcrExtractedDataDto, nullable: true, description: 'Extracted invoice data' })\n  data: OcrExtractedDataDto | null;\n\n  @ApiProperty({ description: 'Error message if extraction failed', nullable: true })\n  error?: string;\n}\n\nexport class OcrStatusResponseDto {\n  @ApiProperty({ description: 'Whether Google Vision API is enabled' })\n  googleVisionEnabled: boolean;\n\n  @ApiProperty({ description: 'Whether PaddleOCR is enabled' })\n  paddleOcrEnabled: boolean;\n\n  @ApiProperty({ description: 'PaddleOCR service URL', nullable: true })\n  paddleOcrUrl?: string;\n\n  @ApiProperty({ description: 'Whether AI-based extraction is available' })\n  aiExtractionEnabled: boolean;\n}\n"],"names":["OcrExtractedDataDto","OcrResponseDto","OcrResponseLineItemDto","OcrStatusResponseDto","description","nullable","default","type","enum"],"mappings":";;;;;;;;;;;QAgBaA;eAAAA;;QAwDAC;eAAAA;;QAtEAC;eAAAA;;QAiFAC;eAAAA;;;yBAnFe;;;;;;;;;;AAErB,IAAA,AAAMD,yBAAN,MAAMA;AAYb;;;QAXiBE,aAAa;;;;;;QAGbA,aAAa;QAAYC,UAAU;;;;;;QAGnCD,aAAa;QAAcC,UAAU;;;;;;QAGrCD,aAAa;QAAeC,UAAU;;;;AAIhD,IAAA,AAAML,sBAAN,MAAMA;AAsDb;;;QArDiBI,aAAa;QAAeC,UAAU;;;;;;QAGtCD,aAAa;QAA2BC,UAAU;;;;;;QAGlDD,aAAa;QAAkBC,UAAU;;;;;;QAGzCD,aAAa;QAAkBC,UAAU;;;;;;QAGzCD,aAAa;QAAoBC,UAAU;;;;;;QAG3CD,aAAa;QAAqBC,UAAU;;;;;;QAG5CD,aAAa;QAAkBC,UAAU;;;;;;QAGzCD,aAAa;QAA6BC,UAAU;;;;;;QAGpDD,aAAa;QAAyBC,UAAU;;;;;;QAGhDD,aAAa;QAAmBC,UAAU;;;;;;QAG1CD,aAAa;QAAuBC,UAAU;;;;;;QAG9CD,aAAa;QAAcC,UAAU;;;;;;QAGrCD,aAAa;QAAgBC,UAAU;;;;;;QAGvCD,aAAa;QAAiBE,SAAS;;;;;;QAGvCC,MAAM;YAACL;SAAuB;QAAEE,aAAa;;;;;;QAG7CA,aAAa;;;;;;QAGbA,aAAa;QAAqBI,MAAM;YAAC;YAAiB;YAAa;SAAgB;;;;;;QAGvFJ,aAAa;;;;AAIvB,IAAA,AAAMH,iBAAN,MAAMA;AASb;;;QARiBG,aAAa;;;;;;QAGbG,MAAMP;QAAqBK,UAAU;QAAMD,aAAa;;;;;;QAGxDA,aAAa;QAAsCC,UAAU;;;;AAIvE,IAAA,AAAMF,uBAAN,MAAMA;AAYb;;;QAXiBC,aAAa;;;;;;QAGbA,aAAa;;;;;;QAGbA,aAAa;QAAyBC,UAAU;;;;;;QAGhDD,aAAa"}