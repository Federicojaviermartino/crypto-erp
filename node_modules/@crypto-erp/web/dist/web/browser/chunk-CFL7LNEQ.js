import{a as P,c as T,e as I,g as O,o as W,p as D,r as N}from"./chunk-OE3B74VB.js";import{a as B}from"./chunk-JU2KEDBD.js";import"./chunk-FXBJWTCM.js";import{$a as k,Da as b,Gb as L,Ia as v,Ja as w,Ma as M,Na as A,Oa as e,Pa as t,Qa as S,Ra as E,Sa as _,Ta as d,U as h,Za as o,_a as g,aa as c,ba as m,bb as u,cb as x,db as C,fb as V,ra as a,sa as y,xa as f}from"./chunk-2V2B4KT2.js";import"./chunk-35PI25VP.js";var j=(s,p)=>p.id;function F(s,p){s&1&&(e(0,"div",6),S(1,"span",8),t())}function G(s,p){if(s&1&&(e(0,"tr")(1,"td")(2,"strong"),o(3),t()(),e(4,"td"),o(5),t(),e(6,"td"),o(7),t(),e(8,"td"),o(9),t(),e(10,"td")(11,"span",10),o(12),t()(),e(13,"td")(14,"button",11),o(15,"Editar"),t()()()),s&2){let n=p.$implicit;a(3),g(n.symbol),a(2),g(n.name),a(2),g(n.decimals),a(2),g(n.coingeckoId||"-"),a(2),v(n.isActive?"badge-success":"badge-secondary"),a(),k(" ",n.isActive?"Activo":"Inactivo"," ")}}function z(s,p){s&1&&(e(0,"tr")(1,"td",12),o(2," No hay activos configurados "),t()())}function q(s,p){if(s&1&&(e(0,"table",9)(1,"thead")(2,"tr")(3,"th"),o(4,"S\xEDmbolo"),t(),e(5,"th"),o(6,"Nombre"),t(),e(7,"th"),o(8,"Decimales"),t(),e(9,"th"),o(10,"CoinGecko ID"),t(),e(11,"th"),o(12,"Estado"),t(),e(13,"th"),o(14,"Acciones"),t()()(),e(15,"tbody"),M(16,G,16,7,"tr",null,j,!1,z,3,0,"tr"),t()()),s&2){let n=d();a(16),A(n.assets())}}function H(s,p){if(s&1){let n=E();e(0,"div",13),_("click",function(){c(n);let i=d();return m(i.showModal=!1)}),e(1,"div",14),_("click",function(i){return c(n),m(i.stopPropagation())}),e(2,"div",15)(3,"h3"),o(4,"Nuevo Activo Crypto"),t(),e(5,"button",16),_("click",function(){c(n);let i=d();return m(i.showModal=!1)}),o(6,"\xD7"),t()(),e(7,"div",17)(8,"div",18)(9,"div",19)(10,"label",20),o(11,"S\xEDmbolo *"),t(),e(12,"input",21),C("ngModelChange",function(i){c(n);let r=d();return x(r.newAsset.symbol,i)||(r.newAsset.symbol=i),m(i)}),t()(),e(13,"div",19)(14,"label",20),o(15,"Decimales"),t(),e(16,"input",22),C("ngModelChange",function(i){c(n);let r=d();return x(r.newAsset.decimals,i)||(r.newAsset.decimals=i),m(i)}),t()()(),e(17,"div",19)(18,"label",20),o(19,"Nombre *"),t(),e(20,"input",23),C("ngModelChange",function(i){c(n);let r=d();return x(r.newAsset.name,i)||(r.newAsset.name=i),m(i)}),t()(),e(21,"div",19)(22,"label",20),o(23,"CoinGecko ID"),t(),e(24,"input",24),C("ngModelChange",function(i){c(n);let r=d();return x(r.newAsset.coingeckoId,i)||(r.newAsset.coingeckoId=i),m(i)}),t()()(),e(25,"div",25)(26,"button",26),_("click",function(){c(n);let i=d();return m(i.showModal=!1)}),o(27,"Cancelar"),t(),e(28,"button",3),_("click",function(){c(n);let i=d();return m(i.createAsset())}),o(29,"Crear"),t()()()()}if(s&2){let n=d();a(12),u("ngModel",n.newAsset.symbol),a(4),u("ngModel",n.newAsset.decimals),a(4),u("ngModel",n.newAsset.name),a(4),u("ngModel",n.newAsset.coingeckoId)}}var Z=(()=>{class s{api;assets=f([]);loading=f(!0);showModal=!1;newAsset={symbol:"",name:"",decimals:8,coingeckoId:""};constructor(n){this.api=n}ngOnInit(){this.loadAssets()}loadAssets(){this.loading.set(!0),this.api.get("/crypto/assets").subscribe({next:n=>{this.assets.set(n),this.loading.set(!1)},error:()=>this.loading.set(!1)})}createAsset(){this.api.post("/crypto/assets",this.newAsset).subscribe({next:()=>{this.showModal=!1,this.newAsset={symbol:"",name:"",decimals:8,coingeckoId:""},this.loadAssets()}})}static \u0275fac=function(l){return new(l||s)(y(B))};static \u0275cmp=h({type:s,selectors:[["app-assets-list"]],standalone:!0,features:[V],decls:14,vars:2,consts:[[1,"page"],[1,"page-header"],[1,"text-muted"],[1,"btn","btn-primary",3,"click"],[1,"card"],[1,"card-body",2,"padding","0"],[1,"text-center","p-lg"],[1,"modal-backdrop"],[1,"spinner"],[1,"table"],[1,"badge"],[1,"btn","btn-sm","btn-secondary"],["colspan","6",1,"text-center","text-muted","p-lg"],[1,"modal-backdrop",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],[1,"form-label"],["type","text","placeholder","BTC",1,"form-input",3,"ngModelChange","ngModel"],["type","number","min","0","max","18",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Bitcoin",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","bitcoin",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(l,i){l&1&&(e(0,"div",0)(1,"header",1)(2,"div")(3,"h1"),o(4,"Activos Crypto"),t(),e(5,"p",2),o(6,"Gestiona tus criptoactivos"),t()(),e(7,"button",3),_("click",function(){return i.showModal=!0}),o(8," + Nuevo Activo "),t()(),e(9,"div",4)(10,"div",5),b(11,F,2,0,"div",6)(12,q,19,1),t()(),b(13,H,30,4,"div",7),t()),l&2&&(a(11),w(11,i.loading()?11:12),a(2),w(13,i.showModal?13:-1))},dependencies:[L,N,P,O,T,D,W,I],styles:[".page[_ngcontent-%COMP%]{padding:var(--spacing-xl)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--spacing-lg)}.form-row[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md)}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:var(--white);border-radius:var(--radius-lg);width:100%;max-width:450px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:var(--spacing-lg);border-bottom:1px solid var(--gray-200)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:var(--spacing-lg)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--spacing-md);padding:var(--spacing-lg);border-top:1px solid var(--gray-200)}"]})}return s})();export{Z as AssetsListComponent};
