{"version":3,"sources":["../../../../../src/modules/accounting/dto/journal-entries/create-journal-entry.dto.ts"],"sourcesContent":["import {\n  IsString,\n  IsOptional,\n  IsDateString,\n  IsArray,\n  ValidateNested,\n  ArrayMinSize,\n  MaxLength,\n  IsNumber,\n  Min,\n} from 'class-validator';\nimport { Type } from 'class-transformer';\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\n\nexport class JournalLineDto {\n  @ApiProperty({ example: '572' })\n  @IsString()\n  @MaxLength(20)\n  accountCode: string;\n\n  @ApiPropertyOptional()\n  @IsOptional()\n  @IsString()\n  @MaxLength(255)\n  description?: string;\n\n  @ApiProperty({ example: 1000.0 })\n  @IsNumber()\n  @Min(0)\n  debit: number;\n\n  @ApiProperty({ example: 0 })\n  @IsNumber()\n  @Min(0)\n  credit: number;\n\n  @ApiPropertyOptional({ description: 'Crypto amount (for crypto accounts)' })\n  @IsOptional()\n  @IsNumber()\n  cryptoAmount?: number;\n\n  @ApiPropertyOptional({ example: 'BTC' })\n  @IsOptional()\n  @IsString()\n  @MaxLength(20)\n  cryptoAsset?: string;\n\n  @ApiPropertyOptional({ description: 'EUR price at transaction time' })\n  @IsOptional()\n  @IsNumber()\n  cryptoPrice?: number;\n}\n\nexport class CreateJournalEntryDto {\n  @ApiProperty({ example: '2024-01-15' })\n  @IsDateString()\n  date: string;\n\n  @ApiProperty({ example: 'Bank deposit' })\n  @IsString()\n  @MaxLength(500)\n  description: string;\n\n  @ApiPropertyOptional({ example: 'INV-001' })\n  @IsOptional()\n  @IsString()\n  @MaxLength(100)\n  reference?: string;\n\n  @ApiProperty({ type: [JournalLineDto], minItems: 2 })\n  @IsArray()\n  @ValidateNested({ each: true })\n  @ArrayMinSize(2)\n  @Type(() => JournalLineDto)\n  lines: JournalLineDto[];\n}\n"],"names":["CreateJournalEntryDto","JournalLineDto","example","description","type","minItems","each"],"mappings":";;;;;;;;;;;QAqDaA;eAAAA;;QAvCAC;eAAAA;;;gCAJN;kCACc;yBAC4B;;;;;;;;;;AAE1C,IAAA,AAAMA,iBAAN,MAAMA;AAqCb;;;QApCiBC,SAAS;;;;;;;;;;;;;;;QAWTA,SAAS;;;;;;;;QAKTA,SAAS;;;;;;;;QAKDC,aAAa;;;;;;;;QAKbD,SAAS;;;;;;;;;QAMTC,aAAa;;;;;;AAM/B,IAAA,AAAMH,wBAAN,MAAMA;AAsBb;;;QArBiBE,SAAS;;;;;;;QAITA,SAAS;;;;;;;;QAKDA,SAAS;;;;;;;;;QAMjBE,MAAM;YAACH;SAAe;QAAEI,UAAU;;;;QAE/BC,MAAM;;;oCAEZL"}