import{d as k}from"./chunk-R5763NNK.js";import{a as A}from"./chunk-JU2KEDBD.js";import"./chunk-FXBJWTCM.js";import{$a as p,Da as y,Fa as C,Fb as O,Gb as I,Ja as _,Ma as b,Na as P,Oa as t,Pa as e,Qa as E,Ta as S,U as x,Za as n,_a as s,fb as h,gb as M,hb as m,jb as d,ra as o,sa as f,xa as u}from"./chunk-2V2B4KT2.js";import"./chunk-35PI25VP.js";var B=(i,r)=>r.assetId,T=i=>({assetId:i});function D(i,r){i&1&&(t(0,"div",19),E(1,"span",20),e())}function L(i,r){if(i&1&&(t(0,"tr")(1,"td")(2,"div",23)(3,"strong"),n(4),e(),t(5,"small"),n(6),e()()(),t(7,"td",22),n(8),m(9,"number"),e(),t(10,"td",22),n(11),m(12,"number"),e(),t(13,"td",22),n(14),m(15,"number"),e(),t(16,"td")(17,"a",24),n(18," Ver Movimientos "),e()()()),i&2){let a=r.$implicit;o(4),s(a.symbol),o(2),s(a.name),o(2),s(d(9,6,a.totalAmount,"1.8-8")),o(3),p("",d(12,9,a.averageCostBasis,"1.2-2")," \u20AC"),o(3),p("",d(15,12,a.totalCostBasis,"1.2-2")," \u20AC"),o(3),C("queryParams",M(15,T,a.assetId))}}function w(i,r){i&1&&(t(0,"tr")(1,"td",25),n(2," No tienes posiciones abiertas "),e()())}function F(i,r){if(i&1&&(t(0,"table",21)(1,"thead")(2,"tr")(3,"th"),n(4,"Activo"),e(),t(5,"th",22),n(6,"Cantidad"),e(),t(7,"th",22),n(8,"Costo Promedio"),e(),t(9,"th",22),n(10,"Costo Base Total"),e(),t(11,"th"),n(12,"Acciones"),e()()(),t(13,"tbody"),b(14,L,19,17,"tr",null,B,!1,w,3,0,"tr"),e()()),i&2){let a,l=S();o(14),P((a=l.portfolio())==null?null:a.positions)}}var W=(()=>{class i{api;portfolio=u(null);loading=u(!0);constructor(a){this.api=a}ngOnInit(){this.loadPortfolio()}loadPortfolio(){this.loading.set(!0),this.api.get("/crypto/transactions/portfolio").subscribe({next:a=>{this.portfolio.set(a),this.loading.set(!1)},error:()=>this.loading.set(!1)})}static \u0275fac=function(l){return new(l||i)(f(A))};static \u0275cmp=x({type:i,selectors:[["app-portfolio"]],standalone:!0,features:[h],decls:48,vars:6,consts:[[1,"page"],[1,"page-header"],[1,"text-muted"],[1,"d-flex","gap-md"],["routerLink","/crypto/transactions/new",1,"btn","btn-primary"],[1,"summary-cards"],[1,"summary-card"],[1,"summary-icon"],[1,"summary-info"],[1,"nav-tabs","mb-lg"],["routerLink","/crypto/portfolio",1,"nav-tab","active"],["routerLink","/crypto/wallets",1,"nav-tab"],["routerLink","/crypto/exchanges",1,"nav-tab"],["routerLink","/crypto/transactions",1,"nav-tab"],["routerLink","/crypto/assets",1,"nav-tab"],["routerLink","/crypto/tax-report",1,"nav-tab"],[1,"card"],[1,"card-header"],[1,"card-body",2,"padding","0"],[1,"text-center","p-lg"],[1,"spinner"],[1,"table"],[1,"text-right"],[1,"asset-info"],["routerLink","/crypto/transactions",1,"btn","btn-sm","btn-secondary",3,"queryParams"],["colspan","5",1,"text-center","text-muted","p-lg"]],template:function(l,c){if(l&1&&(t(0,"div",0)(1,"header",1)(2,"div")(3,"h1"),n(4,"Portfolio Crypto"),e(),t(5,"p",2),n(6,"Resumen de tus activos digitales"),e()(),t(7,"div",3)(8,"a",4),n(9,"+ Nueva Transacci\xF3n"),e()()(),t(10,"div",5)(11,"div",6)(12,"span",7),n(13,"\u{1F4B0}"),e(),t(14,"div",8)(15,"h3"),n(16),m(17,"number"),e(),t(18,"p"),n(19,"Costo Base Total"),e()()(),t(20,"div",6)(21,"span",7),n(22,"\u{1F4CA}"),e(),t(23,"div",8)(24,"h3"),n(25),e(),t(26,"p"),n(27,"Posiciones Activas"),e()()()(),t(28,"div",9)(29,"a",10),n(30,"Portfolio"),e(),t(31,"a",11),n(32,"Wallets"),e(),t(33,"a",12),n(34,"Exchanges"),e(),t(35,"a",13),n(36,"Transacciones"),e(),t(37,"a",14),n(38,"Activos"),e(),t(39,"a",15),n(40,"Informe Fiscal"),e()(),t(41,"div",16)(42,"div",17)(43,"h3"),n(44,"Posiciones"),e()(),t(45,"div",18),y(46,D,2,0,"div",19)(47,F,17,1),e()()()),l&2){let v,g;o(16),p("",d(17,3,(v=c.portfolio())==null?null:v.totalCostBasis,"1.2-2")," \u20AC"),o(9),s(((g=c.portfolio())==null||g.positions==null?null:g.positions.length)||0),o(21),_(46,c.loading()?46:47)}},dependencies:[I,O,k],styles:[".page[_ngcontent-%COMP%]{padding:var(--spacing-xl)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--spacing-xl)}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-md);margin-bottom:var(--spacing-xl)}.summary-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-lg);background:var(--white);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm)}.summary-card[_ngcontent-%COMP%]   .summary-icon[_ngcontent-%COMP%]{font-size:2rem}.summary-card[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.summary-card[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--gray-500);font-size:.875rem}.nav-tabs[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);border-bottom:2px solid var(--gray-200);padding-bottom:var(--spacing-sm)}.nav-tab[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);color:var(--gray-500);text-decoration:none;border-bottom:2px solid transparent;margin-bottom:-10px;transition:all var(--transition-fast)}.nav-tab[_ngcontent-%COMP%]:hover{color:var(--gray-700)}.nav-tab.active[_ngcontent-%COMP%]{color:var(--primary);border-bottom-color:var(--primary)}.asset-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.asset-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--gray-500)}"]})}return i})();export{W as PortfolioComponent};
